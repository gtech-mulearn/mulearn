import React, { useState } from "react";
import { useTranslation } from "react-i18next";
import i18next from "i18next";
import styles from "./LanguageSwitcher.module.css";
export function getFontSizeForLanguage(lang: string): string {
    const malayalamFontSize = "14px";

    const fontSize = lang === "mal" ? malayalamFontSize : "";

    return fontSize;
}

function LanguageSwitcher() {
    const { i18n } = useTranslation();

    const [change, setchange] = useState(true);
    // const changeLanguage = (event) => {
    //   i18n.changeLanguage(event.target.value);
    // };

    const changelanguages = () => {
        setchange(!change);
        if (change) {
            i18n.changeLanguage("mal");
        } else {
            i18n.changeLanguage("en");
        }
    };
    // const urlParams = new URLSearchParams(window.location.search);
    // urlParams.set("lang", i18n.language);
    // const newUrlParams = urlParams.toString();
    // const newUrl =
    //   window.location.protocol +
    //   "//" +
    //   window.location.host +
    //   window.location.pathname +
    //   "?" +
    //   newUrlParams;
    // window.history.pushState({ path: newUrl }, "", newUrl);

    return (
        <div className="LanguageSwitcher-wrapper">
            {/* <select onChange={changeLanguage} value={i18n.language}>
        <option value="en">A</option>
        <option value="mal">അ</option>
      </select>{" "} */}
            {change ? (
                <button
                    onClick={changelanguages}
                    className={styles.LanguageSwitch}
                >
                    <p>അ</p>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="14"
                        height="14"
                        viewBox="0 0 19 15"
                        fill="none"
                    >
                        <path
                            d="M0.389161 5.13969C0.220331 4.97081 0.125488 4.74179 0.125488 4.50299C0.125488 4.26419 0.220331 4.03517 0.389161 3.86629L3.99141 0.264038C4.16029 0.0952082 4.38931 0.000366211 4.62811 0.000366211C4.86691 0.000366211 5.09593 0.0952082 5.26481 0.264038L8.86706 3.86629C9.0311 4.03614 9.12188 4.26362 9.11982 4.49975C9.11777 4.73587 9.02306 4.96174 8.85609 5.12872C8.68912 5.29569 8.46325 5.3904 8.22712 5.39245C7.991 5.3945 7.76351 5.30373 7.59366 5.13969L5.52867 3.07469L5.52867 13.5086C5.52867 13.7475 5.43379 13.9765 5.2649 14.1454C5.09602 14.3143 4.86695 14.4092 4.62811 14.4092C4.38927 14.4092 4.1602 14.3143 3.99132 14.1454C3.82243 13.9765 3.72755 13.7475 3.72755 13.5086L3.72755 3.07469L1.66256 5.13969C1.49368 5.30852 1.26466 5.40336 1.02586 5.40336C0.787062 5.40336 0.558041 5.30852 0.389161 5.13969ZM9.39479 9.26967C9.56367 9.10084 9.79269 9.00599 10.0315 9.00599C10.2703 9.00599 10.4993 9.10084 10.6682 9.26967L12.7332 11.3347V0.900737C12.7332 0.661892 12.8281 0.43283 12.9969 0.263942C13.1658 0.0950537 13.3949 0.000173569 13.6337 0.000173569C13.8726 0.000173569 14.1016 0.0950537 14.2705 0.263942C14.4394 0.43283 14.5343 0.661892 14.5343 0.900737V11.3347L16.5993 9.26967C16.7691 9.10562 16.9966 9.01485 17.2327 9.0169C17.4689 9.01895 17.6947 9.11367 17.8617 9.28064C18.0287 9.44761 18.1234 9.67348 18.1255 9.90961C18.1275 10.1457 18.0367 10.3732 17.8727 10.5431L14.2704 14.1453C14.1016 14.3141 13.8725 14.409 13.6337 14.409C13.3949 14.409 13.1659 14.3141 12.997 14.1453L9.39479 10.5431C9.22596 10.3742 9.13112 10.1452 9.13112 9.90637C9.13112 9.66757 9.22596 9.43855 9.39479 9.26967Z"
                            fill="white"
                        />
                    </svg>
                </button>
            ) : (
                <button
                    onClick={changelanguages}
                    value={"en"}
                    className={styles.LanguageSwitch}
                >
                    <p>ABC</p>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="14"
                        height="14"
                        viewBox="0 0 19 15"
                        fill="none"
                    >
                        <path
                            d="M0.389161 5.13969C0.220331 4.97081 0.125488 4.74179 0.125488 4.50299C0.125488 4.26419 0.220331 4.03517 0.389161 3.86629L3.99141 0.264038C4.16029 0.0952082 4.38931 0.000366211 4.62811 0.000366211C4.86691 0.000366211 5.09593 0.0952082 5.26481 0.264038L8.86706 3.86629C9.0311 4.03614 9.12188 4.26362 9.11982 4.49975C9.11777 4.73587 9.02306 4.96174 8.85609 5.12872C8.68912 5.29569 8.46325 5.3904 8.22712 5.39245C7.991 5.3945 7.76351 5.30373 7.59366 5.13969L5.52867 3.07469L5.52867 13.5086C5.52867 13.7475 5.43379 13.9765 5.2649 14.1454C5.09602 14.3143 4.86695 14.4092 4.62811 14.4092C4.38927 14.4092 4.1602 14.3143 3.99132 14.1454C3.82243 13.9765 3.72755 13.7475 3.72755 13.5086L3.72755 3.07469L1.66256 5.13969C1.49368 5.30852 1.26466 5.40336 1.02586 5.40336C0.787062 5.40336 0.558041 5.30852 0.389161 5.13969ZM9.39479 9.26967C9.56367 9.10084 9.79269 9.00599 10.0315 9.00599C10.2703 9.00599 10.4993 9.10084 10.6682 9.26967L12.7332 11.3347V0.900737C12.7332 0.661892 12.8281 0.43283 12.9969 0.263942C13.1658 0.0950537 13.3949 0.000173569 13.6337 0.000173569C13.8726 0.000173569 14.1016 0.0950537 14.2705 0.263942C14.4394 0.43283 14.5343 0.661892 14.5343 0.900737V11.3347L16.5993 9.26967C16.7691 9.10562 16.9966 9.01485 17.2327 9.0169C17.4689 9.01895 17.6947 9.11367 17.8617 9.28064C18.0287 9.44761 18.1234 9.67348 18.1255 9.90961C18.1275 10.1457 18.0367 10.3732 17.8727 10.5431L14.2704 14.1453C14.1016 14.3141 13.8725 14.409 13.6337 14.409C13.3949 14.409 13.1659 14.3141 12.997 14.1453L9.39479 10.5431C9.22596 10.3742 9.13112 10.1452 9.13112 9.90637C9.13112 9.66757 9.22596 9.43855 9.39479 9.26967Z"
                            fill="white"
                        />
                    </svg>
                </button>
            )}
        </div>
    );
}

export default LanguageSwitcher;
